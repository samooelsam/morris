<?php

/**
 * Elementor_Awesomesauce class.
 *
 * @category   Class
 * @package    Techvertu
 * @subpackage WordPress
 * @author     Saman Tohidian <info@uikar.com>
 * @copyright  2020 Saman tohidian
 * @license    https://opensource.org/licenses/GPL-3.0 GPL-3.0-only
 * @link       link(https://www.uikar.com/,
 *             Build Custom Elementor Widgets)
 * @since      1.0.0
 * php version 7.3.9
 */

namespace TechvertuCustomWidgets\Widgets;

use Elementor\Widget_Base;
use Elementor\Controls_Manager;

// Security Note: Blocks direct access to the plugin PHP files.
defined('ABSPATH') || die();

/**
 * Awesomesauce widget class.
 *
 * @since 1.0.0
 */
class buyButton extends Widget_Base
{

	public function get_name()
	{
		return 'buyButton';
	}
	public function get_style_depends()
	{
		return array('TechvertuFilterWidget');
	}
	public function get_title()
	{
		return __('Techvertu buy button', 'elementor');
	}

	protected function _register_controls()
	{
		$this->start_controls_section(
			'content_section',
			[
				'label' => __('Content', 'plugin-name'),
				'tab' => \Elementor\Controls_Manager::TAB_CONTENT,
			]
		);

		$this->add_control(
			'title',
			array(
				'label'   => __('Title', 'elementor-custombutton'),
				'type'    => Controls_Manager::TEXT,
				'default' => __('Title', 'elementor-custombutton'),
			)
		);
        
        $this->add_control(
			'website_link',
			[
				'label' => esc_html__( 'Button 1', 'textdomain' ),
				'type' => \Elementor\Controls_Manager::URL,
				'placeholder' => esc_html__( 'https://your-link.com', 'textdomain' ),
				'options' => [ 'url', 'is_external', 'nofollow' ],
				'default' => [
					'url' => '',
					'is_external' => true,
					'nofollow' => true,
					// 'custom_attributes' => '',
				],
				'label_block' => true,
			]
		);
        
		



		$this->end_controls_section();
	}

	protected function render()
	{
		$settings = $this->get_settings_for_display();
		?>
            <div class="buy-button clearfix">
                <a href="<?php echo($settings['website_link']['url']);?>">
                    <span class="text"><?php echo ($settings['title']); ?></span>
                    <span class="icon-box-wrapper">
                        <svg width="23" height="23" viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_358_634)">
                            <path d="M22.0105 18.0133H20.1494V16.1522C20.1494 15.9054 20.0514 15.6687 19.8768 15.4942C19.7023 15.3197 19.4656 15.2217 19.2188 15.2217C18.972 15.2217 18.7354 15.3197 18.5608 15.4942C18.3863 15.6687 18.2883 15.9054 18.2883 16.1522V18.0133H16.4272C16.1804 18.0133 15.9437 18.1114 15.7692 18.2859C15.5947 18.4604 15.4966 18.6971 15.4966 18.9439C15.4966 19.1907 15.5947 19.4274 15.7692 19.6019C15.9437 19.7764 16.1804 19.8744 16.4272 19.8744H18.2883V21.7356C18.2883 21.9824 18.3863 22.219 18.5608 22.3936C18.7354 22.5681 18.972 22.6661 19.2188 22.6661C19.4656 22.6661 19.7023 22.5681 19.8768 22.3936C20.0514 22.219 20.1494 21.9824 20.1494 21.7356V19.8744H22.0105C22.2573 19.8744 22.494 19.7764 22.6685 19.6019C22.843 19.4274 22.9411 19.1907 22.9411 18.9439C22.9411 18.6971 22.843 18.4604 22.6685 18.2859C22.494 18.1114 22.2573 18.0133 22.0105 18.0133Z" fill="white"/>
                            <path d="M20.1495 5.91668H17.3579C17.3579 4.43588 16.7696 3.01574 15.7226 1.96866C14.6755 0.921586 13.2553 0.333344 11.7745 0.333344C10.2938 0.333344 8.87361 0.921586 7.82653 1.96866C6.77946 3.01574 6.19121 4.43588 6.19121 5.91668H3.39955C2.65915 5.91668 1.94908 6.2108 1.42554 6.73434C0.902001 7.25788 0.60788 7.96795 0.60788 8.70834L0.60788 18.0139C0.609357 19.2474 1.10003 20.43 1.97228 21.3023C2.84452 22.1745 4.02712 22.6652 5.26066 22.6667H13.6357C13.8825 22.6667 14.1191 22.5686 14.2937 22.3941C14.4682 22.2196 14.5662 21.9829 14.5662 21.7361C14.5662 21.4893 14.4682 21.2526 14.2937 21.0781C14.1191 20.9036 13.8825 20.8056 13.6357 20.8056H5.26066C4.52026 20.8056 3.81019 20.5114 3.28665 19.9879C2.76311 19.4644 2.46899 18.7543 2.46899 18.0139V8.70834C2.46899 8.46155 2.56703 8.22485 2.74154 8.05034C2.91606 7.87583 3.15275 7.77779 3.39955 7.77779H6.19121V9.6389C6.19121 9.8857 6.28925 10.1224 6.46377 10.2969C6.63828 10.4714 6.87497 10.5695 7.12177 10.5695C7.36857 10.5695 7.60526 10.4714 7.77977 10.2969C7.95428 10.1224 8.05232 9.8857 8.05232 9.6389V7.77779H15.4968V9.6389C15.4968 9.8857 15.5948 10.1224 15.7693 10.2969C15.9438 10.4714 16.1805 10.5695 16.4273 10.5695C16.6741 10.5695 16.9108 10.4714 17.0853 10.2969C17.2598 10.1224 17.3579 9.8857 17.3579 9.6389V7.77779H20.1495C20.3963 7.77779 20.633 7.87583 20.8075 8.05034C20.9821 8.22485 21.0801 8.46155 21.0801 8.70834V13.3611C21.0801 13.6079 21.1781 13.8446 21.3527 14.0191C21.5272 14.1936 21.7639 14.2917 22.0107 14.2917C22.2575 14.2917 22.4941 14.1936 22.6687 14.0191C22.8432 13.8446 22.9412 13.6079 22.9412 13.3611V8.70834C22.9412 7.96795 22.6471 7.25788 22.1236 6.73434C21.6 6.2108 20.8899 5.91668 20.1495 5.91668ZM8.05232 5.91668C8.05232 4.92948 8.44449 3.98272 9.14254 3.28467C9.84059 2.58662 10.7874 2.19445 11.7745 2.19445C12.7617 2.19445 13.7085 2.58662 14.4066 3.28467C15.1046 3.98272 15.4968 4.92948 15.4968 5.91668H8.05232Z" fill="white"/>
                            </g>
                            <defs>
                            <clipPath id="clip0_358_634">
                            <rect width="22.3333" height="22.3333" fill="white" transform="translate(0.60788 0.333344)"/>
                            </clipPath>
                            </defs>
                        </svg>
                    </span>
                </a>
            </div>
		<?php 
	}

	protected function _content_template()
	{
		?>
            <div class="buy-button clearfix">
                <a href="{{settings.website_link.url}}">
                    <span>{{settings.title}}</span>
                    <span class="icon-box-wrapper">
                        <svg width="23" height="23" viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_358_634)">
                            <path d="M22.0105 18.0133H20.1494V16.1522C20.1494 15.9054 20.0514 15.6687 19.8768 15.4942C19.7023 15.3197 19.4656 15.2217 19.2188 15.2217C18.972 15.2217 18.7354 15.3197 18.5608 15.4942C18.3863 15.6687 18.2883 15.9054 18.2883 16.1522V18.0133H16.4272C16.1804 18.0133 15.9437 18.1114 15.7692 18.2859C15.5947 18.4604 15.4966 18.6971 15.4966 18.9439C15.4966 19.1907 15.5947 19.4274 15.7692 19.6019C15.9437 19.7764 16.1804 19.8744 16.4272 19.8744H18.2883V21.7356C18.2883 21.9824 18.3863 22.219 18.5608 22.3936C18.7354 22.5681 18.972 22.6661 19.2188 22.6661C19.4656 22.6661 19.7023 22.5681 19.8768 22.3936C20.0514 22.219 20.1494 21.9824 20.1494 21.7356V19.8744H22.0105C22.2573 19.8744 22.494 19.7764 22.6685 19.6019C22.843 19.4274 22.9411 19.1907 22.9411 18.9439C22.9411 18.6971 22.843 18.4604 22.6685 18.2859C22.494 18.1114 22.2573 18.0133 22.0105 18.0133Z" fill="white"/>
                            <path d="M20.1495 5.91668H17.3579C17.3579 4.43588 16.7696 3.01574 15.7226 1.96866C14.6755 0.921586 13.2553 0.333344 11.7745 0.333344C10.2938 0.333344 8.87361 0.921586 7.82653 1.96866C6.77946 3.01574 6.19121 4.43588 6.19121 5.91668H3.39955C2.65915 5.91668 1.94908 6.2108 1.42554 6.73434C0.902001 7.25788 0.60788 7.96795 0.60788 8.70834L0.60788 18.0139C0.609357 19.2474 1.10003 20.43 1.97228 21.3023C2.84452 22.1745 4.02712 22.6652 5.26066 22.6667H13.6357C13.8825 22.6667 14.1191 22.5686 14.2937 22.3941C14.4682 22.2196 14.5662 21.9829 14.5662 21.7361C14.5662 21.4893 14.4682 21.2526 14.2937 21.0781C14.1191 20.9036 13.8825 20.8056 13.6357 20.8056H5.26066C4.52026 20.8056 3.81019 20.5114 3.28665 19.9879C2.76311 19.4644 2.46899 18.7543 2.46899 18.0139V8.70834C2.46899 8.46155 2.56703 8.22485 2.74154 8.05034C2.91606 7.87583 3.15275 7.77779 3.39955 7.77779H6.19121V9.6389C6.19121 9.8857 6.28925 10.1224 6.46377 10.2969C6.63828 10.4714 6.87497 10.5695 7.12177 10.5695C7.36857 10.5695 7.60526 10.4714 7.77977 10.2969C7.95428 10.1224 8.05232 9.8857 8.05232 9.6389V7.77779H15.4968V9.6389C15.4968 9.8857 15.5948 10.1224 15.7693 10.2969C15.9438 10.4714 16.1805 10.5695 16.4273 10.5695C16.6741 10.5695 16.9108 10.4714 17.0853 10.2969C17.2598 10.1224 17.3579 9.8857 17.3579 9.6389V7.77779H20.1495C20.3963 7.77779 20.633 7.87583 20.8075 8.05034C20.9821 8.22485 21.0801 8.46155 21.0801 8.70834V13.3611C21.0801 13.6079 21.1781 13.8446 21.3527 14.0191C21.5272 14.1936 21.7639 14.2917 22.0107 14.2917C22.2575 14.2917 22.4941 14.1936 22.6687 14.0191C22.8432 13.8446 22.9412 13.6079 22.9412 13.3611V8.70834C22.9412 7.96795 22.6471 7.25788 22.1236 6.73434C21.6 6.2108 20.8899 5.91668 20.1495 5.91668ZM8.05232 5.91668C8.05232 4.92948 8.44449 3.98272 9.14254 3.28467C9.84059 2.58662 10.7874 2.19445 11.7745 2.19445C12.7617 2.19445 13.7085 2.58662 14.4066 3.28467C15.1046 3.98272 15.4968 4.92948 15.4968 5.91668H8.05232Z" fill="white"/>
                            </g>
                            <defs>
                            <clipPath id="clip0_358_634">
                            <rect width="22.3333" height="22.3333" fill="white" transform="translate(0.60788 0.333344)"/>
                            </clipPath>
                            </defs>
                        </svg>
                    </span>
                </a>
            </div>
		<?php 
	}
}
